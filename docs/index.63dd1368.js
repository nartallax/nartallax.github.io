function e(e,t,s,n){Object.defineProperty(e,t,{get:s,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=s.parcelRequirebf86;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},s.parcelRequirebf86=r),r.register("27Lyk",(function(t,s){var n,i;e(t.exports,"register",(()=>n),(e=>n=e)),e(t.exports,"resolve",(()=>i),(e=>i=e));var r={};n=function(e){for(var t=Object.keys(e),s=0;s<t.length;s++)r[t[s]]=e[t[s]]},i=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("7sHgZ",(function(t,s){e(t.exports,"onMount",(()=>E)),e(t.exports,"initializeCardboardDom",(()=>B)),e(t.exports,"bindBox",(()=>C)),e(t.exports,"tag",(()=>P)),e(t.exports,"svgTag",(()=>N)),e(t.exports,"waitDocumentLoaded",(()=>T));var n=r("9H5KT");let i=Symbol("dom-value-link-no-value-known");class o{subscribeToDomValue(){}unsubscribeFromDomValue(){}constructor(e,t){this.box=e,this.options=t,this.lastKnownRawDomValue=i,this.subscribeDomBound=this.subscribeToDomValue.bind(this),this.unsubscribeDomBound=this.unsubscribeFromDomValue.bind(this),this.tryUpdateDomValueBound=this.tryUpdateDomValue.bind(this),this.updateBoxValueBound=this.updateBoxValue.bind(this)}canPushUpdates(){return this.subscribeToDomValue!==o.prototype.subscribeToDomValue&&(0,n.isWBox)(this.box)}updateBoxValue(){if(!(0,n.isWBox)(this.box))return;let e=this.getRawDomValue();this.lastKnownRawDomValue!==e&&(this.lastKnownRawDomValue=e,this.box.set(this.parseDomValue(e)))}tryUpdateDomValue(e){let t=this.getRawDomValue(),s=this.options.preferBoxValue||!(0,n.isWBox)(this.box);(t===this.lastKnownRawDomValue||s)&&(this.updateDomValue(e),this.lastKnownRawDomValue=this.getRawDomValue())}bind(e){this.canPushUpdates()&&(e.onInserted(this.updateBoxValueBound),e.onInserted(this.subscribeDomBound),e.onRemoved(this.unsubscribeDomBound)),e.isInDom&&this.subscribeToDomValue(),this.options.preferBoxValue||!(0,n.isWBox)(this.box)?e.watchAndRun(this.box,this.tryUpdateDomValueBound):(e.watch(this.box,this.tryUpdateDomValueBound),this.updateBoxValue())}unbind(e){this.canPushUpdates()&&(e.offInserted(this.updateBoxValueBound),e.offInserted(this.subscribeDomBound),e.offRemoved(this.unsubscribeDomBound),e.isInDom&&this.unsubscribeFromDomValue()),e.unwatch(this.tryUpdateDomValueBound)}}class a extends o{constructor(e,t,s){(0,n.isWBox)(t)&&(t=t.map((e=>e))),super(t,s),this.node=e}get element(){return this.options.element??(this.node instanceof HTMLElement?this.node:null)??document.body}getRawDomValue(){return(this.options.element??document.body).style.getPropertyValue(this.options.name)}updateDomValue(e){let t=this.options.name;null==e||""===e||"string"!=typeof e&&"number"!=typeof e?this.element.style.removeProperty(t):this.element.style.setProperty(t,e+"")}parseDomValue(){throw Error("There's no way to move value of CSS variable into box, because it could break types: CSS variable is always string, but box may be of different type. If you need to do that - do that explicitly by using element.style.getPropertyValue(name)")}}class l{constructor(e,t){this.timeoutMs=e,this.check=t,this.startTime=0,this.isRunning=!1}runCheckAndRequest(){let e=()=>{try{if(this.check()||Date.now()-this.startTime>this.timeoutMs)return void(this.isRunning=!1)}catch(e){throw this.isRunning=!1,e}u(e)};this.isRunning=!0,e()}run(){this.startTime=Date.now(),this.isRunning||this.runCheckAndRequest()}}let u=requestAnimationFrame??(e=>setTimeout(e,1e3/60)),h=new class{subscribe(e){this.handlers.add(e),this.isPatched||(this.isPatched=!0,this.patch())}unsubscribe(e){this.handlers.delete(e)}patch(){this.lastKnownLocation=window.location+"";let e=History.prototype;for(let t in e){let s;try{s=e[t]}catch(e){continue}if("function"!=typeof s)continue;let n=this,i=function(...e){let t=s.apply(this,e);return n.repeater.run(),t};e[t]=i}}tryCallHandlers(){let e=window.location+"";if(e===this.lastKnownLocation)return!1;for(let t of(this.lastKnownLocation=e,this.handlers))t();return!0}constructor(){this.handlers=new Set,this.lastKnownLocation="",this.isPatched=!1,this.repeater=new l(1e3,this.tryCallHandlers.bind(this))}};class d extends o{getRawDomValue(){return window.location+""}parseDomValue(e){let t=new URL(e),s="";return this.options.path&&(s+=t.pathname),this.options.search&&(s+=t.search),this.options.hash&&(s+=t.hash),s}updateDomValue(e){let t=new URL(e,window.location+"");this.options.search||(t.search=window.location.search),this.options.path||(t.pathname=window.location.pathname),this.options.hash||(t.hash=window.location.hash),t+""!=window.location+""&&("replace"===(this.options.history??"replace")?window.history.replaceState(null,"",t):window.history.pushState(null,"",t))}subscribeToDomValue(){let e=this.updateBoxValueBound;h.subscribe(e),this.options.hash&&window.addEventListener("hashchange",e)}unsubscribeFromDomValue(){let e=this.updateBoxValueBound;h.unsubscribe(e),this.options.hash&&window.removeEventListener("hashchange",e)}}let c=Symbol("cardboard-dom-binder-no-value");class p{constructor(e){this.node=e,this.beforeInsertedHandlers=null,this.afterInsertedHandlers=null,this.removedHandlers=null,this.watchedBoxes=null,this.domValueLinks=null,this.isExpectingInsertion=!1,this.isInDom=e.isConnected}onInserted(e,t){t?(this.beforeInsertedHandlers||=[]).push(e):(this.afterInsertedHandlers||=[]).push(e)}onRemoved(e){(this.removedHandlers||=[]).push(e)}offInserted(e,t){t?this.beforeInsertedHandlers=m(this.beforeInsertedHandlers,e):this.afterInsertedHandlers=m(this.afterInsertedHandlers,e)}offRemoved(e){this.removedHandlers=m(this.removedHandlers,e)}notifyBeforeInserted(){if(this.isInDom)return;this.isInDom=!0,this.isExpectingInsertion=!0;let e=this.watchedBoxes;if(e)for(let t=0;t<e.length;t++){let s=e[t],n=s.box.get();s.box.subscribe(s.handlerWrap),s.lastKnownValue!==n&&this.invokeBoxHandler(n,s,void 0)}f(this.beforeInsertedHandlers)}notifyAfterInserted(){this.isExpectingInsertion&&(this.isExpectingInsertion=!1,f(this.afterInsertedHandlers))}notifyAfterRemoved(){if(!this.isInDom)return;this.isInDom=!1,this.isExpectingInsertion=!1;let e=this.watchedBoxes;if(e)for(let t=0;t<e.length;t++){let s=e[t];s.box.unsubscribe(s.handlerWrap)}f(this.removedHandlers)}notifyAttachmentState(e){this.isInDom!==e&&(console.error(`A node was ${e?"inserted into":"removed from"} DOM tree using unexpected method or property. This could result in memory leaks and/or inconsistent state. Please investigate and report an error.`,this.node),e?this.notifyBeforeInserted():this.notifyAfterRemoved())}invokeBoxHandler(e,t,s){t.handler(e,t.box,s),t.lastKnownValue=e}subscribe(e,t,s){let n={box:e,handler:t,lastKnownValue:s?e.get():c,handlerWrap:(e,t,s)=>this.invokeBoxHandler(e,n,s)};return this.isInDom&&n.box.subscribe(n.handlerWrap),(this.watchedBoxes||=[]).push(n),n}watch(e,t,s){this.subscribe(e,t,s)}watchAndRun(e,t){let s=this.subscribe(e,t);this.invokeBoxHandler(e.get(),s,void 0)}unwatch(e){let t=this.watchedBoxes?.filter((t=>t.handler!==e||(t.box.unsubscribe(t.handlerWrap),!1)));this.watchedBoxes=!t||t.length<0?null:t}addDomValueLink(e){(this.domValueLinks||=[]).push(e),e.bind(this)}removeDomValueLink(e){if(!this.domValueLinks)return;let t=this.domValueLinks.filter((t=>t.options!==e||(t.unbind(this),!1)));this.domValueLinks=0===t.length?null:t}}function m(e,t){if(!e||1===e.length&&e[0]===t)return null;let s=[];for(let n=0;n<e.length;n++){let i=e[n];i!==t&&s.push(i)}return s}function f(e){if(e)for(let t=0;t<e.length;t++)e[t]()}let b=[Node,Element,HTMLElement,SVGElement],g=null;function y(e){let t=Array(e.length);for(let s=0;s<e.length;s++)t[s]=e[s];return t}function w(e,t){v(e,(e=>function(...s){let n=e.apply(this,s);return t.apply(this,s),n}))}function v(e,t){for(let s of b){let n=s.prototype[e];if("function"==typeof n&&!g?.has(n))try{let i=t(n);g?.add(i),i.originalNonPatchedMethod=n,s.prototype[e]=i}catch(t){console.error("Failed to monkeypatch "+e+" method on "+s.name+": "+t)}}}function x(e,t){for(let s of b)try{let n=Object.getOwnPropertyDescriptor(s.prototype,e);if(!n||"function"!=typeof n.set||g?.has(n.set))continue;let i=t(n.set);g?.add(i),Object.defineProperty(s.prototype,e,{...n,set:i})}catch(t){console.error("Failed to monkeypatch "+e+" property on "+s.name+": "+t)}}class _{startInsertOperation(e){this.ongoingInsertOperationsCount++,this.markNodeInserted(e)}endInsertOperation(){this.ongoingInsertOperationsCount--,0===this.ongoingInsertOperationsCount&&this.nodesInTree.clear()}markNodeInserted(e){this.nodesInTree.add(e);for(let t=0;t<e.childNodes.length;t++)this.markNodeInserted(e.childNodes[t])}markNodeRemoved(e){this.nodesInTree.delete(e);for(let t=0;t<e.childNodes.length;t++)this.markNodeRemoved(e.childNodes[t])}isInserted(e){return e.isConnected||this.nodesInTree.has(e)}constructor(){this.nodesInTree=new Set,this.ongoingInsertOperationsCount=0}}function S(e){return Array.isArray(e)}function k(e,t){return e?Array.isArray(e)?[{},e]:[e,t]:[{},t]}function A(e,t,s){let i=null;if("class"in t&&(i=function(e,t,s,i){let r=function e(t,s=[]){if(Array.isArray(t))for(let n of t)e(n,s);else s.push(t);return s}(s);for(let s of r)if((0,n.isRBox)(s))(e||=V(t)).watch(s,o,!0);else if(s&&"object"==typeof s)for(let i in s){let r=s[i];(0,n.isRBox)(r)&&(e||=V(t)).watch(r,o,!0)}function o(){let e=[];for(let t of r)if(t&&"object"==typeof t&&!(0,n.isRBox)(t))for(let s in t)(0,n.unbox)(t[s])&&e.push(s);else{let s=(0,n.unbox)(t);s&&e.push(s)}i(e.join(" "))}return o(),e}(i,e,t.class,(t=>e.classList.value=t))||i),t.attrs)for(let s in t.attrs)i=L(i,e,t.attrs[s],(t=>{!1===t||void 0===t?e.removeAttribute(s):!0===t?e.setAttribute(s,s):e.setAttribute(s,t+"")}));for(let s in t)if(s.startsWith("on")){let n=t[s];if("beforeInserted"===s)(i||=V(e)).onInserted(n,!0);else if("afterInserted"===s)(i||=V(e)).onInserted(n,!1);else if("onRemoved"===s)(i||=V(e)).onRemoved(n);else{let t=s.charAt(2).toLowerCase()+s.substring(3);e.addEventListener(t,n,{passive:!0,capture:!1})}}if(s){let t=(t,i,r)=>function(e,t,s,i){if(s&&"array_item_update"===i?.type){let e=i.oldValue,t=s.get()[i.index];if(e instanceof Element&&t instanceof Element)return}let r=0;for(let s of t){let t=(0,n.unbox)(s);if(S(t))for(let s=0;s<t.length;s++)r=R(e,t[s],r);else r=R(e,t,r)}for(;e.childNodes.length>r;)e.removeChild(e.childNodes[e.childNodes.length-1])}(e,s,i,r);for(let r of s)(0,n.isRBox)(r)&&(i||=V(e)).watch(r,t,!0);t(null,void 0,void 0)}return i}function R(e,t,s){let n;if(null==t||!0===t||!1===t)return s;if(t instanceof Node)n=t;else{let i=t+"",r=e.childNodes[s];if(r instanceof Text)return r.textContent=i,s+1;n=document.createTextNode(i)}return e.childNodes[s]===n||(e.childNodes.length<=s?e.appendChild(n):e.insertBefore(n,e.childNodes[s])),s+1}function L(e,t,s,i){return!(0,n.isRBox)(s)||(0,n.isConstBox)(s)?i((0,n.unbox)(s),(0,n.constBoxWrap)(s),void 0):(e||=V(t)).watchAndRun(s,i),e}function E(e,t,s){let n=V(e),i=()=>{let e=t();if("function"==typeof e){let t=()=>{try{e()}finally{n.offRemoved(t)}};n.onRemoved(t)}};if(n.isInDom)switch(s?.ifInDom??"throw"){case"throw":throw Error("Node is already in DOM, that's unexpected");case"call":i()}n.onInserted(i,s?.beforeInserted)}let I=new WeakMap,D=new class{constructor(e){this.binders=e,this.observer=null}init(){this.observer||"undefined"==typeof MutationObserver||(this.observer=new MutationObserver(this.doWithRecords.bind(this)),this.observer.observe(document.body,{childList:!0,subtree:!0}))}shutdown(){this.observer&&(this.observer.disconnect(),this.observer=null)}collectEligibleNodesFromArray(e){let t=new Set;for(let s=0;s<e.length;s++)this.collectEligibleNodes(e[s],t);return t}collectEligibleNodes(e,t){this.binders.has(e)&&t.add(e);let s=e.childNodes;for(let e=0;e<s.length;e++)this.collectEligibleNodes(s[e],t)}doWithRecords(e){let t=[],s=[];for(let n=0;n<e.length;n++){let i=e[n];for(let e=0;e<i.addedNodes.length;e++)t.push(i.addedNodes[e]);for(let e=0;e<i.removedNodes.length;e++)s.push(i.removedNodes[e])}let n=this.collectEligibleNodesFromArray(t),i=this.collectEligibleNodesFromArray(s);for(let e of n)i.has(e)||this.binders.get(e).notifyAttachmentState(!0);for(let e of i)n.has(e)||this.binders.get(e).notifyAttachmentState(!1)}}(I),H=new class{constructor(e){this.binders=e,this.isInit=!1,this.projectedTreeState=new _}isInitialized(){return this.isInit}init(){this.isInit||(this.isInit=!0,function(e,t){g=new Set;let s=(t,s)=>{t instanceof Node&&e(t,s)},n=e=>function(...n){for(let e=0;e<n.length;e++)s(n[e],this);let i=e.apply(this,n);for(let e=0;e<n.length;e++){let s=n[e];s instanceof Node&&t(s)}return i},i=s=>function(...n){e(n[0],this);let i=s.apply(this,n);return t(n[0]),i};v("insertBefore",i),v("after",i),v("before",i),v("appendChild",i),v("append",n),v("prepend",n),v("insertAdjacentElement",(s=>function(...n){e(n[1],this);let i=s.apply(this,n);return t(n[1]),i})),w("removeChild",t),w("remove",(function(){t(this)})),v("replaceChild",(s=>function(...n){e(n[0],this);let i=s.apply(this,n);return t(n[1]),t(n[0]),i})),v("replaceChildren",(e=>function(...n){let i=y(this.childNodes);for(let e=0;e<n.length;e++)s(n[e],this);let r=e.apply(this,n);for(let e=0;e<i.length;e++)t(i[e]);for(let e=0;e<n.length;e++){let s=n[e];s instanceof Node&&t(s)}return r})),v("replaceWith",(e=>function(...n){for(let e=0;e<n.length;e++)s(n[e],this);let i=e.apply(this,n);t(this);for(let e=0;e<n.length;e++){let s=n[e];s instanceof Node&&t(s)}return i})),v("setHTML",(e=>function(...s){let n=y(this.childNodes),i=e.apply(this,s);for(let e=0;e<n.length;e++)t(n[e]);return i})),x("innerHTML",(e=>function(...s){let n=y(this.childNodes),i=e.apply(this,s);for(let e=0;e<n.length;e++)t(n[e]);return i})),x("outerHTML",(e=>function(...s){let n=e.apply(this,s);return t(this),n})),x("textContent",(e=>function(...s){let n=y(this.childNodes),i=e.apply(this,s);for(let e=0;e<n.length;e++)t(n[e]);return i})),g=null}(this.beforeInserted.bind(this),this.afterRemovedOrInserted.bind(this)))}collectBinders(e,t=[]){let s=this.binders.get(e);s&&t.push(s);for(let s=0;s<e.childNodes.length;s++)this.collectBinders(e.childNodes[s],t);return t}beforeInserted(e,t){if(this.projectedTreeState.isInserted(t)){this.projectedTreeState.startInsertOperation(e);try{let t=this.collectBinders(e);for(let e=0;e<t.length;e++){let s=t[e];this.projectedTreeState.isInserted(s.node)&&s.notifyBeforeInserted()}}finally{this.projectedTreeState.endInsertOperation()}}}afterRemovedOrInserted(e){e.parentNode||this.projectedTreeState.markNodeRemoved(e);let t=this.collectBinders(e);for(let e=0;e<t.length;e++){let s=t[e];if(s.node.isConnected)s.notifyAfterInserted();else{if(this.projectedTreeState.isInserted(s.node))continue;s.notifyAfterRemoved()}}}}(I),B=async()=>{D.init(),H.init()},V=e=>{if(!H.isInitialized())throw Error("Cardboard DOM is not initialized! You need to call initializeCardboardDom() first.");let t=I.get(e);return t||(t=new p(e),I.set(e,t)),t};function C(e,t,s,i){for(let r of S(t)?t:[t])"function"==typeof s?function(e,t,s,i){(i?.dontCallImmediately?function(e,t,s,i){return!(0,n.isRBox)(s)||(0,n.isConstBox)(s)||(e||=V(t)).watch(s,i),e}:L)(null,e,t,s)}(e,r,s,i):U(e,r,s)}function U(e,t,s){let i,r=(0,n.constBoxWrap)(t),o=V(e);switch(s.type){case"localStorage":i=new F(r,s);break;case"cssVariable":i=new a(e,r,s);break;case"url":i=new d(r,s)}o.addDomValueLink(i)}class F extends o{getRawDomValue(){return localStorage.getItem(this.options.key)}updateDomValue(e){let t=this.options.key,s=this.options.serialize(e);null===s?localStorage.removeItem(t):localStorage.setItem(t,s)}parseDomValue(e){return this.options.parse(e)}}function P(e,t){let[s,n]=k(e,t),i=document.createElement(s.tag||"div"),r=A(i,s,n);if(s.style)for(let e in s.style){let t=s.style[e];r=L(r,i,t,(t=>{null==t?i.style.removeProperty(e):i.style[e]=t}))}return i}function N(e,t){let[s,n]=k(e,t),i=document.createElementNS("http://www.w3.org/2000/svg",s.tag||"g");return"svg"===s.tag&&i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),A(i,s,n),i}function T(){return new Promise((e=>{let t=()=>("interactive"===document.readyState||"complete"===document.readyState)&&(document.removeEventListener("readystatechange",t,!1),e(),!0);t()||document.addEventListener("readystatechange",t,!1)}))}})),r.register("9H5KT",(function(t,s){e(t.exports,"isRBox",(()=>D)),e(t.exports,"unbox",(()=>I)),e(t.exports,"isWBox",(()=>H)),e(t.exports,"box",(()=>k)),e(t.exports,"constBoxWrap",(()=>E)),e(t.exports,"isConstBox",(()=>B));class n{calculate(e,t,s){let n=e.revision,i=e.calculate(t,s);e.revision===n&&("recalc_on_get"===s?.type&&s.owner===e?e.set(i,t,s):e.set(i,t)),this.updateKnownDependencyValues()}}class i extends n{constructor(e){for(let t of(super(),this.rawDependencies=e,this.boxMap=new Map,e))D(t)&&this.boxMap.set(t,t.get())}updateKnownDependencyValues(){for(let e of this.boxMap.keys())this.boxMap.set(e,e.get())}getDependencyValues(){let e=Array(this.rawDependencies.length);for(let t=0;t<this.rawDependencies.length;t++)e[t]=I(this.rawDependencies[t]);return e}subscribeToDependencies(e){for(let t of this.boxMap.keys())t.subscribe(e)}unsubscribeFromDependencies(e){for(let t of this.boxMap.keys())t.unsubscribe(e)}didDependencyListChange(){for(let[e,t]of this.boxMap)if(e.get()!==t)return!0;return!1}setDependencyValues(e){for(let t=0;t<this.rawDependencies.length;t++){let s=this.rawDependencies[t],n=e[t];if(H(s))s.set(n);else{if(I(s)!==n)throw Error("Cannot update value of readonly dependency "+s)}}}isDependency(e){return this.boxMap.has(e)}}class r extends n{constructor(e){super(),this.dependency=e,this.lastKnownDependencyValue=I(e)}updateKnownDependencyValues(){this.lastKnownDependencyValue=I(this.dependency)}subscribeToDependencies(e){D(this.dependency)&&this.dependency.subscribe(e)}unsubscribeFromDependencies(e){D(this.dependency)&&this.dependency.unsubscribe(e)}didDependencyListChange(){return this.lastKnownDependencyValue!==I(this.dependency)}getDependencyValues(){return[I(this.dependency)]}setDependencyValues(e){if(H(this.dependency))this.dependency.set(e[0]);else{if(I(this.dependency)!==e[0])throw Error("Cannot update value of readonly dependency "+this.dependency)}}isDependency(e){return e===this.dependency}}let o=Symbol("AbsentBoxValue");class a{haveSubscribers(){return this.subscriberList.haveSubscribers()}set(e,t,s){this.value!==e&&(this.value=e,this.notifyOnValueChange(e,t,s))}get(){if(this.value===o)throw Error("This box is disposed; no value can be get");return this.value}dispose(){this.value=o,this.subscriberList.dispose()}subscribe(e){this.subscriberList.subscribe(e,this.get())}unsubscribe(e){this.subscriberList.unsubscribe(e)}notifyOnValueChange(e,t,s){this.subscriberList.callSubscribers(e,t,s)}map(e,t){return t?new f(this,e,t):new m(this,e,l)}prop(e){return H(this)?new y(this,e):new g(this,e)}getArrayContext(e){return new U(this,e,u)}mapArrayElements(e,t){return function(e,t,s){let n=new Map,i=s?new Map:null,r=e=>{let s=new Set(n.keys()),r=e.map(((e,r)=>{s.delete(e);let o=n.get(e);return!o&&(o=t(e,r),n.set(e,o),i&&i.set(o,e)),o}));if(i)for(let e of s)i.delete(n.get(e));for(let e of s)n.delete(e);return r};return i&&s?e.map(r,(e=>{let t=new Set(i.keys()),r=e.map(((e,r)=>{t.delete(e);let o=i.get(e);return o||(o=s(e,r),n.set(o,e),i.set(e,o)),o}));for(let e of t)n.delete(i.get(e)),i.delete(e);return r})):e.map(r)}(this,e,t)}mapArray(e,t){return new U(this,e,t).getValueArrayBox()}setProp(e,t){let s=this.get();s[e]!==t&&this.set({...s,[e]:t},void 0,{type:"property_update",propName:e})}setElementAtIndex(e,t){let s=this.get();if(s[e]===t)return;let n=s[e],i=[...s];i[e]=t,this.set(i,void 0,{type:"array_item_update",index:e,oldValue:n})}insertElementsAtIndex(e,t){if(0===t.length)return;let s=this.get();this.checkInsertIndex(s,e);let n=[...s.slice(0,e),...t,...s.slice(e)];this.set(n,void 0,{type:"array_items_insert",index:e,count:t.length})}insertElementAtIndex(e,t){this.insertElementsAtIndex(e,[t])}appendElement(e){this.insertElementsAtIndex(this.get().length,[e])}appendElements(e){this.insertElementsAtIndex(this.get().length,e)}prependElement(e){this.insertElementsAtIndex(0,[e])}prependElements(e){this.insertElementsAtIndex(0,e)}checkInsertIndex(e,t){if(t<0)throw Error(`Cannot insert anything in negative index (passed index = ${t})`);if(t>e.length)throw Error(`Cannot insert anything in index beyond array length (passed index = ${t}, array length = ${e.length}); this will create sparse array, which is bad in multiple ways and should always be avoided.`)}deleteElementsAtIndex(e,t){if(t<1)return;let s=this.get();if(this.checkDeleteIndex(s,e),(t=Math.min(t,s.length-e))<1)return;let n=[];for(let i=0;i<t;i++){let t=e+i,r=s[t];n.push({value:r,index:t})}let i=[...s.slice(0,e),...s.slice(e+t)];this.set(i,void 0,{type:"array_items_delete",indexValuePairs:n})}deleteElementAtIndex(e){this.deleteElementsAtIndex(e,1)}checkDeleteIndex(e,t){if(t<0)throw Error(`Cannot delete element at negative index (passed index = ${t})`);if(t>e.length-1)throw Error(`Cannot delete anything starting from beyond array length (passed index = ${t}, array length = ${e.length})`)}deleteElements(e){this.deleteElementsInternal(e,!1)}deleteElement(e){this.deleteElementsInternal(e,!0)}deleteElementsInternal(e,t){let s=this.get(),n=[],i=[];for(let r=0;r<s.length;r++){let o=s[r];if(e(o,r))i.push(o);else if(n.push({value:o,index:r}),t){i.push(...s.slice(r+1));break}}if(0!==n.length)this.set(i,void 0,{type:"array_items_delete",indexValuePairs:n});else if(t)throw Error("Expected to find exactly one element to delete, but found none (predicate = "+e+")")}deleteAllElements(){this.set([],void 0,{type:"array_items_delete_all"})}constructor(){this.value=o,this.subscriberList=new C(this)}}let l=()=>{throw Error("This box does not support reverse-mapping")},u=()=>null;class h extends a{subscribe(e){this.haveSubscribers()||this.onFirstSubscriber(),super.subscribe(e)}unsubscribe(e){let t=this.haveSubscribers();super.unsubscribe(e),t&&!this.haveSubscribers()&&this.onLastUnsubscriber()}}class d extends h{constructor(e){super(),this.dependencyList=e,this.revision=0,this.forcedShouldRecalculate=!1}calculateAndUpdate(e,t){this.forcedShouldRecalculate=!1,this.dependencyList.calculate(this,e,t)}notifyOnValueChange(e,t,s){this.revision++,super.notifyOnValueChange(e,t,s)}onUpstreamChange(e,t){this.calculateAndUpdate(e,t)}shouldRecalculate(){return!!this.forcedShouldRecalculate||this.value===o||!this.haveSubscribers()&&!!this.dependencyList.didDependencyListChange()}recalculateIfShould(e,t){this.shouldRecalculate()&&this.calculateAndUpdate(e,t)}set(e,t,s){return!this.haveSubscribers()&&this.shouldRecalculate()&&(this.value=o),super.set(e,t,s)}get(){return this.recalculateIfShould(void 0,{type:"recalc_on_get",owner:this}),super.get()}onFirstSubscriber(){this.dependencyList.subscribeToDependencies(this),this.shouldRecalculate()&&this.calculateAndUpdate(void 0,void 0)}onLastUnsubscriber(){this.dependencyList.unsubscribeFromDependencies(this)}}class c extends d{constructor(e){super(new r(e)),this.upstream=e}calculate(e,t){return this.makeDownstreamValue(this.upstream.get(),t)}notifyOnValueChange(e,t,s){t!==this.upstream&&this.updateUpstreamWith(e,s),super.notifyOnValueChange(e,t,s)}calculateAndUpdate(e,t){e||(e=this.upstream),super.calculateAndUpdate(e,t)}}class p extends c{constructor(e,t,s){super(e),this.makeDownstreamValue=t,this.makeUpstreamValue=s}toString(){return`MapBox(${V(this.value)})`}updateUpstreamWith(e,t){this.upstream.set(this.makeUpstreamValue(e,t),this)}}class m extends p{}class f extends p{}class b extends c{constructor(e,t){super(e),this.propName=t}toString(){return`PropBox(${V(this.value)})`}makeDownstreamValue(e){return e[this.propName]}updateUpstreamWith(e){let t={...this.upstream.get(),[this.propName]:e};this.upstream.set(t,this,{type:"property_update",propName:this.propName})}}class g extends b{}class y extends b{}class w extends h{constructor(e,t){super(),this.arrayContext=e,this.value=t}toString(){return`ArrayContextControlledBox(${V(this.value)})`}dispose(){this.haveSubscribers()&&this.arrayContext.onDownstreamUnsubscription(),super.dispose()}onFirstSubscriber(){this.value!==o&&this.arrayContext.onDownstreamSubscription()}onLastUnsubscriber(){this.value!==o&&this.arrayContext.onDownstreamUnsubscription()}checkIfStillAttached(){if(!this.arrayContext.isItemBoxAttached(this))throw Error("This array-linked box "+this+" is no longer attached to its upstream. Element it was attached to was removed from upstream, or was absent in some time in the past.")}get(){return this.arrayContext.isItemBoxAttached(this)&&this.arrayContext.tryUpdate(),this.checkIfStillAttached(),super.get()}}class v extends w{constructor(e,t,s,n){super(e,t),this.index=s,this.key=n}toString(){return`ArrayItemBox(${V(this.key)}, ${V(this.value)})`}set(e,t){this.checkIfStillAttached(),super.set(e,t)}notifyOnValueChange(e,t,s){t!==this.arrayContext&&this.arrayContext.onDownstreamChange(this,e),super.notifyOnValueChange(e,t,s)}deleteArrayElement(){this.checkIfStillAttached(),this.arrayContext.upstream.deleteElementAtIndex(this.index)}}class x extends v{}class _ extends v{}class S extends d{constructor(e,t,s){super(1===e.length?new r(e[0]):new i(e)),this.calculateFn=t,this.reverseCalculateFn=s}toString(){return`CalcBox(${V(this.value)})`}calculate(){let e=this.dependencyList.getDependencyValues();return this.calculateFn(...e)}notifyOnValueChange(e,t,s){let n=this.dependencyList.isDependency(t),i=!t&&"recalc_on_get"===s?.type;!!!this.reverseCalculateFn||n||i||this.updateUpstream(e),super.notifyOnValueChange(e,t,s)}updateUpstream(e){let t=this.dependencyList.getDependencyValues(),s=this.reverseCalculateFn(e,...t);this.dependencyList.setDependencyValues(s)}}let k=e=>new A(e);class A extends a{constructor(e){super(),this.value=e}toString(){return`ValueBox(${V(this.value)})`}}class R{constructor(e){if(this.value=e,e===o)throw Error("ConstBox must always have a value")}toString(){return`ConstBox(${V(this.value)})`}get(){return this.value}subscribe(){}unsubscribe(){}haveSubscribers(){return!1}map(e){return new R(e(this.value,void 0))}prop(e){return new R(this.value[e])}getArrayContext(e){return new F(this,e)}mapArrayElements(e){return new R(this.value.map(((t,s)=>e(t,s))))}mapArray(e,t){let s=new Map;return new R(this.value.map(((n,i)=>{let r=e(n,i);if(s.has(r))return s.get(r);let o=t(new R(n),i);return s.set(r,o),o})))}set(){L()}setProp(){L()}setElementAtIndex(){L()}insertElementsAtIndex(){L()}insertElementAtIndex(){L()}appendElement(){L()}appendElements(){L()}prependElement(){L()}prependElements(){L()}deleteElementsAtIndex(){L()}deleteElementAtIndex(){L()}deleteElements(){L()}deleteElement(){L()}deleteAllElements(){L()}deleteArrayElement(){L()}dispose(){L()}}function L(){throw Error("You can't change anything about value of const box")}function E(e){return D(e)?e:(e=>new R(e))(e)}function I(e){return D(e)?e.get():e}function D(e){return e instanceof a||B(e)}function H(e){return e instanceof A||e instanceof f||e instanceof y||e instanceof _}function B(e){return e instanceof R}function V(e){return"symbol"==typeof e?e.toString():JSON.stringify(e)}R.prototype.isConstBox=!0;class C{constructor(e){this.owner=e,this.subscriptions=null,this.propBoxInternalSubscriptions=null}haveSubscribers(){return!(!this.subscriptions&&!this.propBoxInternalSubscriptions)}callSubscribers(e,t,s){this.notifyPropSubscribers(e,t,s),this.notifySubscribers(e,t,s),P.run()}notifySubscribers(e,t,s){if(this.subscriptions)for(let n of this.subscriptions.values())n.receiver!==t?P.enqueueUpdate(new N(n,e,s)):n.lastKnownValue=e}notifyPropSubscribers(e,t,s){if(this.propBoxInternalSubscriptions){if(s&&"property_update"===s.type){let n=this.propBoxInternalSubscriptions.get(s.propName);return void(n&&this.notifyPropSubscriptionArray(e,n,t,s))}for(let n of this.propBoxInternalSubscriptions.values())this.notifyPropSubscriptionArray(e,n,t,s)}}notifyPropSubscriptionArray(e,t,s,n){for(let i=0;i<t.length;i++){let r=t[i];r.receiver!==s?P.enqueueUpdate(new N(r,e,n)):r.lastKnownValue=e}}subscribe(e,t){let s={lastKnownValue:t,receiver:e,provider:this.owner};if(e instanceof b){let t=this.propBoxInternalSubscriptions||=new Map,n=t.get(e.propName);if(!n)return n=[s],void t.set(e.propName,n);for(let t=0;t<n.length;t++)if(n[t].receiver===e)return;return void n.push(s)}let n=this.subscriptions||=new Map;n.has(e)||n.set(e,s)}unsubscribe(e){if(e instanceof b){if(!this.propBoxInternalSubscriptions)return;let t=this.propBoxInternalSubscriptions.get(e.propName);if(!t)return;let s=null;t=t.filter((t=>t.receiver!==e||(s=t,!1))),s&&P.deleteUpdate(s),0===t.length?(this.propBoxInternalSubscriptions.delete(e.propName),0===this.propBoxInternalSubscriptions.size&&(this.propBoxInternalSubscriptions=null)):this.propBoxInternalSubscriptions.set(e.propName,t)}this.subscriptions&&(this.subscriptions.delete(e),0===this.subscriptions.size&&(this.subscriptions=null))}dispose(){if(this.subscriptions)for(let e of this.subscriptions.keys())"function"!=typeof e&&e.dispose()}}class U{constructor(e,t,s){this.upstream=e,this.getKey=t,this.getValue=s,this.pairs=new Map,this.childSubCount=0,this.lastKnownUpstreamValue=null,this.mappedValueBox=null}tryUpdate(e){if(!e&&this.childSubCount>0)return;let t=this.upstream.get();t!==this.lastKnownUpstreamValue&&this.onUpstreamChange(this.upstream,void 0,t)}makeChildBox(e,t,s){let n=H(this.upstream)?new _(this,e,t,s):new x(this,e,t,s),i={box:n,value:null};return this.pairs.set(s,i),i.value=this.getValue(n,t),i}onUpstreamChange(e,t,s){let n;s??=this.upstream.get(),this.lastKnownUpstreamValue=s;let i=!0;switch(t?.type){case"array_item_update":{let e=s[t.index],r=this.getKey(e,t.index),o=this.pairs.get(r);if(o)o.box.set(e,this),i=!1;else{let s=this.getKey(t.oldValue,t.index),i=this.pairs.get(s);if(!i)throw Error("Array element is not found by key "+s);this.pairs.delete(s),this.makeChildBox(e,t.index,r),n={type:"array_item_update",index:t.index,oldValue:i.value}}break}case"array_items_insert":{let e=Array(t.count);for(let{box:e}of this.pairs.values())e.index>=t.index&&(e.index+=t.count);for(let n=0;n<t.count;n++){let i=t.index+n,r=s[i],o=this.getKey(r,i);if(this.pairs.get(o))throw Error("Duplicate key: "+o);let a=this.makeChildBox(r,i,o);e[n]=a.value}n={type:"array_items_insert",count:t.count,index:t.index};break}case"array_items_delete":{let e=Array(t.indexValuePairs.length);for(let s=0;s<t.indexValuePairs.length;s++){let{index:n,value:i}=t.indexValuePairs[s],r=this.getKey(i,n),o=this.pairs.get(r);if(!o)throw Error("Tried to delete item at key "+r+", but there's no item for that key.");o.box.dispose(),this.pairs.delete(r),e[s]={index:n,value:o.value}}this.updateAllIndex(s),n={type:"array_items_delete",indexValuePairs:e};break}case"array_items_delete_all":for(let e of this.pairs.values())e.box.dispose();this.pairs.clear(),n={type:"array_items_delete_all"};break;default:{let e=new Set(this.pairs.keys());for(let t=0;t<s.length;t++){let n=s[t],i=this.getKey(n,t),r=this.pairs.get(i);if(r){if(!e.has(i))throw Error("Constraint violated, key is not unique: "+i);r.box.set(n,this),r.box.index=t}else this.makeChildBox(n,t,i);e.delete(i)}for(let t of e){this.pairs.get(t).box.dispose(),this.pairs.delete(t)}}}null!==this.mappedValueBox&&i&&this.mappedValueBox.set(this.makeValuesArray(),this,n)}updateAllIndex(e){for(let t=0;t<e.length;t++){let s=e[t],n=this.getKey(s,t),i=this.pairs.get(n);i&&(i.box.index=t)}}onDownstreamChange(e,t){let s=this.getKey(t,e.index);if(s!==e.key)throw Error("Array item box changed key, which is not allowed; was: "+e.key+", now "+s);let n=this.upstream.get();this.childSubCount<1&&(this.tryUpdate(),e.checkIfStillAttached());let i=[...n],r=i[e.index];i[e.index]=t,this.lastKnownUpstreamValue=i,this.upstream.set(i,this,{type:"array_item_update",index:e.index,oldValue:r})}onDownstreamSubscription(){this.childSubCount++,1===this.childSubCount&&(this.tryUpdate(!0),this.upstream.subscribe(this))}onDownstreamUnsubscription(){this.childSubCount--,0===this.childSubCount&&this.unsubscribeFromUpstream()}unsubscribeFromUpstream(){this.upstream.unsubscribe(this)}getBoxes(){this.tryUpdate();let e=this.upstream.get(),t=Array(e.length);for(let s=0;s<e.length;s++){let n=e[s],i=this.getKey(n,s),r=this.pairs.get(i);if(!r)throw Error("Cannot get array item box list: no downstream box for key "+i);t[s]=r.box}return t}getBoxForKey(e){this.tryUpdate();let t=this.pairs.get(e);if(!t)throw Error("No box for key "+e);return t.box}isItemBoxAttached(e){return e instanceof v?this.pairs.get(e.key)?.box===e:this.mappedValueBox===e}dispose(){for(let e of(this.lastKnownUpstreamValue=null,this.pairs.values()))e.box.dispose()}toString(){return`ArrayContext(${this.getKey})`}getValueArrayBox(){return this.mappedValueBox||(this.mappedValueBox=new w(this,this.makeValuesArray())),this.mappedValueBox}makeValuesArray(){if(this.tryUpdate(),!this.lastKnownUpstreamValue)throw Error("Array context update failed: no known upstream value (wtf?)");let e=Array(this.pairs.size);for(let t=0;t<this.lastKnownUpstreamValue.length;t++)e[t]=this.pairs.get(this.getKey(this.lastKnownUpstreamValue[t],t)).value;return e}}class F{constructor(e,t){this.upstream=e,this.getKey=t,this.boxMap=null,this.boxArray=null}getBoxForKey(e){if(!this.boxMap){this.boxMap=new Map;let e=this.upstream.get();for(let t=0;t<e.length;t++){let s=e[t],n=this.getKey(s,t);if(this.boxMap.has(n))throw Error("Duplicate array key: "+n);this.boxMap.set(n,new R(s))}}let t=this.boxMap.get(e);if(!t)throw Error("No box for key "+e);return t}getBoxes(){if(!this.boxArray){let e=this.upstream.get();this.boxArray=e.map((e=>new R(e)))}return[...this.boxArray]}}let P=new class{getSubQueue(e){return"function"==typeof e?this.subQueues[2]:e instanceof S||e instanceof p?this.subQueues[1]:this.subQueues[0]}withUpdatesPaused(e){this.pauseLevel++;try{return e()}finally{this.pauseLevel--,this.run()}}enqueueUpdate(e){let t=this.getSubQueue(e.subscription.receiver);t.get(e.subscription)&&(e.meta=void 0),e.value===e.subscription.lastKnownValue?t.delete(e.subscription):t.set(e.subscription,e)}deleteUpdate(e){this.getSubQueue(e.receiver).delete(e)}run(){if(!(this.isRunning||this.pauseLevel>0)){this.isRunning=!0;try{this.runInternal()}finally{this.isRunning=!1}}}runInternal(){for(;;)for(let e=0;e<this.subQueues.length;e++){let t=this.subQueues[e],s=t.values().next().value;if(s){t.delete(s.subscription),s.deliver();break}if(e===this.subQueues.length-1)return}}constructor(){this.subQueues=[,,,].fill(null).map((()=>new Map)),this.isRunning=!1,this.pauseLevel=0}};class N{constructor(e,t,s){this.subscription=e,this.value=t,this.meta=s,(e.receiver instanceof S||e.receiver instanceof p)&&(e.receiver.forcedShouldRecalculate=!0)}deliver(){this.subscription.lastKnownValue=this.value;let e=this.subscription.receiver;e instanceof S||e instanceof p?e.forcedShouldRecalculate&&e.recalculateIfShould(this.subscription.provider,this.meta):"function"==typeof e?e(this.value,this.subscription.provider,this.meta):e.onUpstreamChange(this.subscription.provider,this.meta)}toString(){return`Update(${V(this.value)}, from ${this.subscription.provider} to ${this.subscription.receiver}${this.meta?", "+JSON.stringify(this.meta):""})`}}})),r.register("Tsqai",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),import("./"+r("27Lyk").resolve("1Mamc"))]).then((()=>r("hppz9")))})),r.register("2141A",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("11V43")),import("./"+r("27Lyk").resolve("ldDPr")),import("./"+r("27Lyk").resolve("1XIBz"))]).then((()=>r("1KmVa")))})),r.register("8Xmzr",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("7kKo2"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("lebhK"))]).then((()=>r("aFKcI")))})),r.register("fFMZG",(function(e,t){var s=r("lovBw");e.exports=s((function(e){return new Promise((function(t,s){var n=document.getElementsByTagName("link");if([].concat(n).some((function(t){return t.href===e&&t.rel.indexOf("stylesheet")>-1})))t();else{var i=document.createElement("link");i.rel="stylesheet",i.href=e,i.onerror=function(e){i.onerror=i.onload=null,i.remove(),s(e)},i.onload=function(){i.onerror=i.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(i)}}))}))})),r.register("lovBw",(function(e,t){var s={},n={},i={};function r(e){switch(e){case"preload":return n;case"prefetch":return i;default:return s}}e.exports=function(e,t){return function(s){var n=r(t);return n[s]?n[s]:n[s]=e.apply(null,arguments).catch((function(e){throw delete n[s],e}))}}})),r.register("7he55",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("11V43")),import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("euz4T"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("bqwwZ"))]).then((()=>r("jfwrQ")))})),r.register("gJkTd",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("k7EvP"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("lWyzW"))]).then((()=>r("jfUgO")))})),r.register("lpSAQ",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),import("./"+r("27Lyk").resolve("7LJwX"))]).then((()=>r("8K2HD")))})),r.register("6AKyM",(function(e,t){e.exports=import("./"+r("27Lyk").resolve("4gSIb")).then((()=>r("TmoKT")))})),r.register("kjH9N",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("iiMn1"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("7K5yw"))]).then((()=>r("aADgs")))})),r.register("gr1vK",(function(e,t){e.exports=Promise.all([r("fFMZG")(new URL(r("27Lyk").resolve("bQr1K"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("6ABmY"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("7gO40"))]).then((()=>r("baWBU")))})),r.register("ltaXa",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("4qjKV"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("4734B"))]).then((()=>r("94vB5")))})),r.register("iazIr",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("gcG39"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("eRSsx"))]).then((()=>r("jCDUf")))})),r.register("gtrKK",(function(e,t){e.exports=Promise.all([r("fFMZG")(new URL(r("27Lyk").resolve("gcG39"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("ldDPr")),import("./"+r("27Lyk").resolve("inafc"))]).then((()=>r("9JVPX")))})),r.register("hziA5",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("5BmIJ"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("6yv5f"))]).then((()=>r("cjDlI")))})),r.register("gghpL",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),r("fFMZG")(new URL(r("27Lyk").resolve("iffNs"),import.meta.url).toString()),import("./"+r("27Lyk").resolve("2TjFj"))]).then((()=>r("ksOUo")))})),r.register("1jXCi",(function(e,t){e.exports=Promise.all([import("./"+r("27Lyk").resolve("ldDPr")),import("./"+r("27Lyk").resolve("edqRt"))]).then((()=>r("7BCiZ")))})),r("27Lyk").register(JSON.parse('{"bOWbs":"index.63dd1368.js","dfdLN":"thumb.895f5cc7.png","aCsz7":"thumb.77a5726d.png","j4vlb":"thumb.33c39890.png","fprpQ":"thumb.c40fe0b7.png","kBiy4":"thumb.49fbc4f8.png","k0jLu":"thumb.49fbc4f8.png","f8sbq":"thumb.da797b04.png","h4Iq5":"thumb.2fa4c89d.png","avd87":"thumb.2f679df3.png","loh4e":"thumb.11ebbe69.png","8314W":"default_thumbnail.11ebbe69.png","1Mamc":"digger.a65e09ee.js","ldDPr":"digger.a3e8b766.js","1XIBz":"falling_cubes.fb667eb7.js","9I2D8":"orange_square.cef03ba2.png","11V43":"falling_cubes.dc119f83.js","lebhK":"timer.5c3aaf49.js","7kKo2":"timer.7e662a0d.css","bqwwZ":"squaremix_3d.d7a65b88.js","6fzAl":"pine_forest.bc33757d.png","euz4T":"squaremix_3d.5214cf99.css","lWyzW":"star_travel.7a740b20.js","k7EvP":"star_travel.0db4ef9f.css","7LJwX":"planets.00d61749.js","4gSIb":"particle_toy.1276d486.js","7K5yw":"wave_function_collapse.81b301bf.js","iiMn1":"wave_function_collapse.cb58976a.css","7gO40":"ribcage_converter.29f2a665.js","4734B":"factorio_pixelart.2bf3f3de.js","4qjKV":"factorio_pixelart.2347219f.css","eRSsx":"zen_blockbreaker.c0e34970.js","gcG39":"zen_blockbreaker.682a1ff3.css","inafc":"random_rhombus_tilings.400c5ed6.js","d9iEL":"rhombus_randomiser.7fadbe9c.wasm","6yv5f":"dungeon_mapper.818f7495.js","5BmIJ":"dungeon_mapper.5d14fc81.css","2TjFj":"fp_determinism_tester.9b1f281b.js","1L6a6":"input_data.3cb95624.txt","iffNs":"fp_determinism_tester.7f8afeb4.css","edqRt":"embedding_with_localstorage.09cf0ed4.js","6ABmY":"ribcage_converter.ff57643c.css","bQr1K":"index.0bc1fa92.css"}'));var o=r("7sHgZ");o=r("7sHgZ"),o=r("7sHgZ");function a(e,t){return new Promise(((s,n)=>{e.addEventListener("error",(e=>n(new Error(e.message)))),e.addEventListener(t,(e=>s(e)))}))}o=r("7sHgZ");function l(e){const t=50,s=2*Math.PI*20;return(0,o.svgTag)({tag:"svg",attrs:{width:t,height:t,viewBox:"-25 -25 50 50"},class:"lWMpXq_countdown"},[(0,o.svgTag)({tag:"circle",attrs:{r:20,"stroke-width":5}}),(0,o.svgTag)({tag:"circle",attrs:{r:20,"stroke-width":5,"stroke-dasharray":s,"stroke-dashoffset":-s+"px","animation-duration":e/1e3+"s"}})])}o=r("7sHgZ"),o=r("7sHgZ");const u=e=>e<10?"0"+e:""+e;function h(e,t){const s=(0,o.tag)({class:"sketch-info-line"},[`${e}:`]);return t.forEach((e=>{let t;const n=e.description??e.url??"???";t=e.url?(0,o.tag)({tag:"a",attrs:{href:e.url,target:"_blank",rel:"noopener noreferrer"}},[n]):(0,o.tag)([n]),t.className="opL8_W_sketchInfoSubline",s.appendChild(t)})),s}const d=(e,t)=>{const s=e??"topLeft",n="topLeft"===s||"topRight"===s,i="topLeft"===s||"bottomLeft"===s;return{top:n?t:void 0,bottom:n?void 0:t,left:i?t:void 0,right:i?void 0:t}};function c(e){const t=(0,o.tag)({class:"opL8_W_sketchInfoButton",style:d(e.infoButtonPosition,"0.5rem")},["i"]);return t.addEventListener("click",(()=>{const s=(0,o.tag)({class:"opL8_W_sketchInfoBlock",style:d(e.infoButtonPosition,"0px")});var n;s.appendChild((0,o.tag)([e.name])),s.appendChild((0,o.tag)([e.description])),s.appendChild((0,o.tag)({tag:"hr"})),s.appendChild((0,o.tag)(["Created at: "+(n=e.date,`${n.getFullYear()}.${u(n.getMonth()+1)}.${u(n.getDate())}`)])),s.appendChild((0,o.tag)([`Tags: ${e.tags.map((e=>e.name)).join(", ")}`])),e.inspiration&&s.appendChild(h("Inspired with",e.inspiration)),e.usedContent&&s.appendChild(h("Used content",e.usedContent)),s.appendChild((0,o.tag)({tag:"hr"})),s.appendChild((0,o.tag)({tag:"button",onClick:()=>s.remove()},["Close"])),t.after(s)})),document.body.appendChild(t),t}var p;p="MZvicq_sketchRoot";const m="no_sketch_info";function f(e){const t=(0,o.tag)({class:p}),s=O.getArgument(m);return(async()=>{try{(await e.code()).main(t,{isPreview:!!s})}catch(e){console.error(e),t.textContent="Failed to load sketch."}})(),(0,o.tag)({class:p},[t,s?null:c(e)])}var b,g,y;function w(e){const t=(0,o.tag)({class:"_3mHR9G_imgContainer"},[(0,o.tag)({tag:"img",attrs:{src:e.thumbnail,alt:e.description}})]),s=(0,o.tag)({class:"_3mHR9G_sketch",onClick:()=>O.goTo(j(e.id))},[t,(0,o.tag)({class:"_3mHR9G_sketchTitle"},[e.name])]);let n=null;return s.addEventListener("mouseenter",(()=>{n||(n=function(e,t,s){let n=!1,i=null,r=null;function u(){i?.remove(),r?.remove()}return(async()=>{if(i=(0,o.tag)({class:b,style:{animationDuration:s/4/1e3+"s"}},[l(s)]),t.appendChild(i),await v(s/2),n)return;const u=O.formRouteURL(j(e.id),{[m]:!0});r=(0,o.tag)({tag:"iframe",class:g,attrs:{src:u}}),t.appendChild(r),await Promise.all([v(s/2),a(r,"load")]),n||r.classList.add(y??"")})(),{stop:()=>{n=!0,u()}}}(e,t,1500))}),{passive:!0}),s.addEventListener("mouseleave",(()=>{n?.stop(),n=null}),{passive:!0}),s}function v(e){return new Promise((t=>setTimeout(t,e)))}b="_3mHR9G_timerBackground",g="_3mHR9G_sketchPreview",y="_3mHR9G_completed";const x={simulation:{name:"Simulation",description:"Simplified recreation of real life patterns, regularities and effects."},art:{name:"Art",description:"By my definition art is something that is created with purpose of evoking emotions."},threejs:{name:"THREE.js",description:"Visual composition that uses THREE.js to render."},oimojs:{name:"Oimo.js",description:"Physical simulation using Oimo.js engine."},matterjs:{name:"Matter.js",description:"Physical simulation using Matter.js engine."},tool:{name:"Tool",description:"A thing that helps achieving some goals."},css:{name:"CSS",description:"Advanced techniques of using CSS."},webgl:{name:"WebGL",description:"Usage of WebGL."},svg:{name:"SVG",description:"Usage of SVG."},evolution:{name:"Evolution",description:"Demonstration of evolution."},game:{name:"Game",description:"Interactive piece of enternainment."}},_=(()=>{const e={};for(const t in x)e[t]={...x[t],id:t};return e})();var S;S=new URL(r("27Lyk").resolve("dfdLN"),import.meta.url).toString();var k;k=new URL(r("27Lyk").resolve("aCsz7"),import.meta.url).toString();var A;A=new URL(r("27Lyk").resolve("j4vlb"),import.meta.url).toString();var R;R=new URL(r("27Lyk").resolve("fprpQ"),import.meta.url).toString();var L;L=new URL(r("27Lyk").resolve("kBiy4"),import.meta.url).toString();var E;E=new URL(r("27Lyk").resolve("k0jLu"),import.meta.url).toString();var I;I=new URL(r("27Lyk").resolve("f8sbq"),import.meta.url).toString();var D;D=new URL(r("27Lyk").resolve("h4Iq5"),import.meta.url).toString();var H;H=new URL(r("27Lyk").resolve("avd87"),import.meta.url).toString();var B;B=new URL(r("27Lyk").resolve("loh4e"),import.meta.url).toString();var V;V=new URL(r("27Lyk").resolve("8314W"),import.meta.url).toString();const C={digger:{name:"Digger",description:"Game about excavation of useful minerals.",inspiration:[{description:"Old DOS game",url:"https://www.youtube.com/watch?v=l0yQfyJlqdA"}],date:new Date(2022,7,9),tags:[_.game,_.svg],hidden:!0,code:()=>r("Tsqai"),thumbnail:t(V)},falling_cubes:{name:"Falling cubes",description:"Animation of falling cubes",inspiration:[{description:"A gif without clear source"}],date:new Date(2022,2,27),tags:[_.threejs,_.oimojs],code:()=>r("2141A"),thumbnail:t(S)},timer:{name:"Timer",description:"Time counter with some settings",inspiration:[{description:"A question from chat"}],date:new Date(2022,2,27),tags:[_.tool],code:()=>r("8Xmzr"),thumbnail:t(A)},squaremix_3d:{name:"Square mix",description:"3D-mixing animation of an image",inspiration:[{description:"Some video without clear source"}],usedContent:[{description:"Photo by Jonny Gios",url:"https://unsplash.com/photos/B78XB_9xe6E"}],date:new Date(2022,2,25),tags:[_.threejs],code:()=>r("7he55"),thumbnail:t(R)},star_travel:{name:"Star travel",description:"Flight through the galaxy!",inspiration:[{description:"Old Windows screensaver",url:"https://www.youtube.com/watch?v=teFHZRpH5Pw"}],date:new Date(2021,8,18),tags:[_.art,_.svg,_.css],code:()=>r("gJkTd"),thumbnail:t(k)},planets:{name:"Planets",description:"Stellar gravity simulation (not up to scale)",date:new Date(2022,11,27),tags:[_.simulation,_.svg],code:()=>r("lpSAQ"),thumbnail:t(L)},particle_toy:{name:"Particle toy",description:"Millions of particles processed by GPU",date:new Date(2023,0,28),tags:[_.simulation,_.webgl],code:()=>r("6AKyM"),thumbnail:t(E),hidden:!0},wave_function_collapse:{name:"Wave function collapse",description:"Implementation of wave function collapse algoritm",date:new Date(2023,3,1),tags:[_.tool],code:()=>r("kjH9N"),thumbnail:t(I),inspiration:[{description:"Youtube video about this code",url:"https://github.com/avihuxp/WaveFunctionCollapse"}]},ribcage_converter:{name:"RC converter",description:"A tool that can convert some TS type definitions into RC structure definitions",date:new Date(2023,4,8),tags:[_.tool],code:()=>r("gr1vK"),thumbnail:t(V),infoButtonPosition:"topRight",hidden:!0},factorio_pixelart:{name:"Factorio Pixelart converter",description:"A tool that can convert an image to factorio blueprint",date:new Date(2023,5,23),tags:[_.tool],code:()=>r("ltaXa"),thumbnail:t(V),hidden:!0},zen_blockbreaker:{name:"Zen blockbreaker",description:"Simulation of infinite self-playing game of ping-pong against a shapeshifting wall.",date:new Date(2024,1,2),tags:[_.art,_.matterjs,_.svg],code:()=>r("iazIr"),thumbnail:t(D),inspiration:[{description:"A video without clear source found somewhere on the internet"}]},random_rhombus_tilings:{name:"Random rhombus tilings",description:"Generator of tile patterns that uses rhombuses.",date:new Date(2024,1,6),tags:[_.svg],code:()=>r("gtrKK"),thumbnail:t(H),inspiration:[{description:"Youtube video about this type of tilings. Was curious if it really will converge to a circle when generated as described in the video.",url:"https://www.youtube.com/watch?v=c6J_bd9seMg"}]},dungeon_mapper:{name:"Dungeon mapper",description:"Simple generator of 2d dungeon maps.",date:new Date(2024,8,22),tags:[],code:()=>r("hziA5"),thumbnail:t(B),hidden:!0},fp_determinism_tester:{name:"FP determinism tester",description:"A small suite of tests to check if floating-point operations are deterministic on your setup.",date:new Date(2024,9,16),tags:[_.tool],code:()=>r("gghpL"),thumbnail:t(V),hidden:!0,infoButtonPosition:"topRight"},embedding_with_localstorage:{name:"Localstorage test",description:"This page uses local storage. This meant to test if it's viable to use localstorage in iframe.",date:new Date(2024,9,16),tags:[_.tool],code:()=>r("1jXCi"),thumbnail:t(V),hidden:!0,infoButtonPosition:"topRight"}},U=(()=>{const e={};for(const t in C)e[t]={...C[t],id:t};return e})();var F=r("9H5KT");let P=null;F=r("9H5KT");let N=null;function T(){if(!N){const e=N=(0,F.box)(K(window.location.hash));window.addEventListener("hashchange",(()=>e.set(K(window.location.hash)))),e.subscribe((e=>{if(""===e&&window.location.hash&&"undefined"!=typeof history)return void history.pushState("",document.title,window.location.pathname+window.location.search);const t="#"+e;window.location.hash!==t&&(window.location.hash=t)}))}return N}function K(e){return e.replace(/^#/,"")}function j(e){return`sketch/${e}`}const M={...(()=>{const e={};for(const t in U){const s=U[t];e[j(t)]={render:()=>f(s),title:s.name}}return e})(),...{"":{title:"Nartallax's personal website",render:function(){return(0,o.tag)({class:"vj37CW_sketchesContainer"},Object.values(U).filter((e=>!e.hidden)).map((e=>w(e))))}}}},O=new class{constructor(e,t){this.routes=e,this.defaultRoute=t,this.hashBox=T(),this.titleBox=(P||(P=(0,F.box)(document.title),P.subscribe((e=>document.title=e))),P),this.root=null,this.currentArgs={},this.currentRoute=t}startAt(e){if(this.root)throw new Error("Router already started");this.root=e,this.hashBox.subscribe((()=>this.checkHash())),this.checkHash(!0)}formRouteURL(e,t){const s=(window.location+"").replace(/#.*?$/,""),n=this.formHash(e,t??{});return n?s+"#"+n:s}goTo(e,t){this.hashBox.set(this.formHash(e,t??{}))}getArgument(e){return this.currentArgs[e]}setArgument(e,t){const s={...this.currentArgs};void 0===t?delete s[e]:s[e]=t,this.hashBox.set(this.formHash(this.currentRoute,s))}checkHash(e=!1){const[t,s]=this.parseHash(this.hashBox.get());if(t===this.currentRoute&&!e)return;const n=this.routes[t];if(n)return this.currentRoute=t,this.currentArgs=s,this.renderRoute(n);this.hashBox.set(this.defaultRoute)}parseHash(e){const t={},[s,n]=e.split("?");if(n)for(const e of n.split("&")){const[s,n]=e.split("=").map((e=>decodeURIComponent(e)));s&&(t[s]=n??!0)}return[s,t]}formHash(e,t){let s=e,n=!0;for(const[e,i]of Object.entries(t))s+=n?(n=!1,"?"):"&",s+=encodeURIComponent(e),!0!==i&&(s+="="+encodeURIComponent(i+""));return s}renderRoute(e){const{title:t,render:s}=e;if(!this.root)throw new Error("Router not started");for(;this.root.firstChild;)this.root.firstChild.remove();this.root.appendChild(s()),this.titleBox.set(t)}}(M,"");!async function(){await(0,o.waitDocumentLoaded)(),await(0,o.initializeCardboardDom)();const e=document.getElementById("app");if(!e)throw new Error("No app root!");O.startAt(e)}();
//# sourceMappingURL=index.63dd1368.js.map
